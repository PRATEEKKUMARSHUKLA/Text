<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text to Speech</title>
</head>
<body>
<h1>Text to Speech</h1>
<textarea id="text-to-speech-input" rows="4" cols="50">Type your text here</textarea>
<select id="voice-select">
    <option value="default">Default</option>
</select>
<button id="speak-button">Speak</button>

<script>
// Check if browser supports Web Speech API
if ('speechSynthesis' in window) {
    const speakButton = document.getElementById('speak-button');
    const textToSpeechInput = document.getElementById('text-to-speech-input');
    const voiceSelect = document.getElementById('voice-select');

    // Function to populate the voice selection dropdown
    const populateVoiceList = () => {
        const voices = speechSynthesis.getVoices();
        voiceSelect.innerHTML = '<option value="default">Default</option>';
        
        // Filter and add male voices
        const maleVoices = voices.filter(voice => voice.name.includes('male'));
        maleVoices.slice(0, 10).forEach(voice => {
            const option = document.createElement('option');
            option.value = voice.name;
            option.textContent = voice.name;
            voiceSelect.appendChild(option);
        });
        
        // Filter and add female voices
        const femaleVoices = voices.filter(voice => voice.name.includes('female'));
        femaleVoices.slice(0, 10).forEach(voice => {
            const option = document.createElement('option');
            option.value = voice.name;
            option.textContent = voice.name;
            voiceSelect.appendChild(option);
        });
    };

    // Populate voice list when voices are loaded
    populateVoiceList();
    if (speechSynthesis.onvoiceschanged !== undefined) {
        speechSynthesis.onvoiceschanged = populateVoiceList;
    }

    // Function to speak the input text
    const speakText = () => {
        const text = textToSpeechInput.value;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.voice = speechSynthesis.getVoices().find(voice => voice.name === voiceSelect.value);
        speechSynthesis.speak(utterance);
    };

    // Event listener for the speak button
    speakButton.addEventListener('click', speakText);
} else {
    // Browser doesn't support speech synthesis
    alert('Sorry, your browser does not support speech synthesis.');
}
</script>
</body>
</html>
